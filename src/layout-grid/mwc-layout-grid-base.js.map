{"version":3,"file":"mwc-layout-grid-base.js","sourceRoot":"","sources":["src/mwc-layout-grid-base.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {html, LitElement, property} from 'lit-element';\nimport {LayoutGridCellBase} from './mwc-layout-grid-cell.js';\n\nexport class LayoutGridBase extends LitElement {\n  @property({type: Boolean, reflect: true}) inner = false;\n\n  @property({type: Boolean, reflect: true}) fixedColumnWidth = false;\n\n  @property({type: String}) position;\n\n  constructor() {\n    super();\n\n    // Handle addition of cells\n    // Create an observer instance linked to the callback function\n    const observer = new MutationObserver((mutationsList) => {\n      for (const mutation of mutationsList) {\n        if (mutation.type === 'childList' && mutation.addedNodes &&\n            mutation.addedNodes.length > 0) {\n          // At least one cell was added - re-render grid to make sure all\n          // children elements are in right order and have own slots\n          this.requestUpdate();\n        }\n      }\n    });\n    // Start observing the root node for configured mutations\n    observer.observe(this, {childList: true});\n  }\n\n  protected removeCell(e) {\n    const slotElement = e.target! as HTMLSlotElement;\n    const nodes = slotElement.assignedElements();\n\n    if (nodes.length == 0) {\n      // Slot is empty - remove cell\n      (slotElement.parentNode! as HTMLElement).remove();\n    }\n  }\n\n  protected generateCellClasses(child: Element) {\n    const classes = ['mdc-layout-grid__cell'];\n\n    if (child instanceof LayoutGridCellBase) {\n      // Child is also a LayoutGridBase - get its attributes and set them to\n      // cell element\n      if (child.span) {\n        const childSpan = child.span;\n        if (childSpan !== null && typeof childSpan === 'object') {\n          // For each property in span add class to cell div\n          Object.entries(childSpan).forEach((entry) => {\n            classes.push(\n                ' mdc-layout-grid__cell--span-' + entry[1] + '-' + entry[0]);\n          });\n        } else {\n          classes.push(' mdc-layout-grid__cell--span-' + childSpan);\n        }\n      }\n      if (child.order) {\n        classes.push(' mdc-layout-grid__cell--order-' + child.order);\n      }\n      if (child.align) {\n        classes.push(' mdc-layout-grid__cell--align-' + child.align);\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  render() {\n    if (this.inner) {\n      return html`\n        <div class=\"mdc-layout-grid__inner ${\n          this.fixedColumnWidth ? 'mdc-layout-grid--fixed-column-width' : ''} ${\n          this.position ? 'mdc-layout-grid--align-' + this.position : ''}\">\n            ${Array.from(this.children).map((element, i) => {\n        element.setAttribute('slot', 'slot' + i);\n        return html`<div class=\"${\n            this.generateCellClasses(element)}\" ><slot name=\"slot${\n            i}\" @slotchange=${(e) => this.removeCell(e)}></slot></div>`;\n      })}\n        </div>`;\n    } else {\n      return html`\n        <div class=\"mdc-layout-grid ${\n          this.fixedColumnWidth ? 'mdc-layout-grid--fixed-column-width' : ''} ${\n          this.position ? 'mdc-layout-grid--align-' + this.position : ''}\">\n          <div class=\"mdc-layout-grid__inner\">\n            ${Array.from(this.children).map((element, i) => {\n        element.setAttribute('slot', 'slot' + i);\n        return html`<div class=\"${\n            this.generateCellClasses(element)}\" ><slot name=\"slot${\n            i}\" @slotchange=${(e) => this.removeCell(e)}></slot></div>`;\n      })}\n          </div>\n        </div>`;\n    }\n  }\n}\n"]}